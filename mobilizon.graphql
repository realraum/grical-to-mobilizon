mutation Login($email: String!, $password: String!) {
  login(email: $email, password: $password) {
    accessToken
    refreshToken
    user {
      id
      email
      role
      defaultActor {
        id
        name
      }
    }
  }
}

mutation Refresh($refreshToken: String!) {
  refreshToken(refreshToken: $refreshToken) {
    accessToken
    refreshToken
  }
}

query EventList {
  group(preferredUsername: "realraum") {
    organizedEvents(limit: 100000) {
      elements {
        id,
        uuid,
        url,
        title,
        description,
        beginsOn,
        endsOn,
        status,
        onlineAddress,
        tags {
          title
        },
        picture {
          url
        },
        physicalAddress {
          id,
          description,
          locality
        }
      }
      total
    }
  }
}

mutation EventAdd($organizerActorId: ID!, $title: String!, $summary: String!, $tags: [String]!, $beginsOn: DateTime!, $endsOn: DateTime!, $gricalUrl: String!, $picture: MediaInput, $attributedToId: ID!, $addressID: ID!) {
  createEvent(
    organizerActorId: $organizerActorId
    title: $title
    description: $summary
    tags: $tags
    beginsOn: $beginsOn
    endsOn: $endsOn
    onlineAddress: $gricalUrl
    attributedToId: $attributedToId
    visibility: PUBLIC
    picture: $picture
    physicalAddress: {
      id: $addressID
    }
  ) {
    id
  }
}

mutation EventModify($eventId: ID!, $title: String!, $summary: String!, $tags: [String]!, $beginsOn: DateTime!, $endsOn: DateTime!, $gricalUrl: String!, $picture: MediaInput, $attributedToId: ID!, $addressID: ID!) {
  updateEvent(
    eventId: $eventId
    title: $title
    description: $summary
    tags: $tags
    beginsOn: $beginsOn
    endsOn: $endsOn
    onlineAddress: $gricalUrl
    attributedToId: $attributedToId
    visibility: PUBLIC
    picture: $picture
    physicalAddress: {
      id: $addressID
    }
  ) {
    id
  }
}
